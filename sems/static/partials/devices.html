<div ng-controller="devicesController">

    <div class="app" id="app">
    
        <!-- ############ LAYOUT START-->
          <div class="center-block w-xxl2 w-auto-xs p-y-md">
            <div class="navbar">
              <div class="pull-center">
        
                <div ng-show="error" class="alert alert-danger">{{errorMessage}}</div>
                
              </div>
            </div>
            <div class="p-a-md box-color r box-shadow-z1 text-color m-a">
                <h3>Smart Energy Monitoring App </h3>
                <br>
                
                <div class="clearfix m-b nav-active-dark">
                    <ul class="nav nav-pills" ui-nav>
                      
                      <li class="nav-item">
                      <a class="nav-link" href="#/">Home</a>
                      </li>
                      
                      <li class="nav-item  active">
                      <a class="nav-link"  href="#/devices">Devices</a>
                      </li>
    
                      <li class="nav-item">
                      <a class="nav-link"  href="#/profile">{{logindata.name}}'s Profile</a>
                      </li>
                      
                      
                      <li class="nav-item" ng-controller="logoutController">
                      <a class="nav-link" ng-click='logout()' >Logout</a>
                      </li>
                      
    
                    </ul>
                  </div>
    
                  <br>

                  
                  <div class="box" ng-if="devicelistfound" style="background-color: white">
                    <!--
                    <div class="box-header">
                      <span class="label danger pull-right">{{devicelist.length}}</span>
                      <h3>Devices</h3>
                    </div>
                    -->

                    <table class="table">
                      <thead>
                        <tr>
                          <th>Device Name</th>
                          <th>State</th>
                        </tr>
                      </thead>
                      <tbody>
                        
                        <tr ng-repeat="device in devicelist">
                          <td ng-bind="device.name"></td>
                          <td>
                                <label class="ui-switch m-t-xs m-r">
                                    <input type="checkbox" ng-checked="device.state" ng-model="device.state" ng-change="updateDeviceState(device.id,device.state)">
                                    <i></i>
                                </label>
                          </td>
                          <td>
                            <i class="material-icons md-24" ng-click="deleteDevice(device.id)">&#xe872;</i>
                          </td>
                        </tr>
                       
                      </tbody>
                    </table>
                  </div>


                  <br>
                  <div ng-if="!devicelistfound">
                    <p ng-bind="errorMessage"></p><br>
                  </div>

                <div class="clearfix m-b nav-active-dark">
                    <ul class="nav nav-pills" ui-nav>
                        <li class="nav-item active">
                            <a class="nav-link" href="#/add_device">Add New Device</a>
                        </li>
                    </ul>
                </div>

                
    
    
            </div>
       
            
          </div>
        
        <!-- ############ LAYOUT END-->
        
        </div>
        
      </div>
      